{% macro power_broker_nav(index) %}
<div class="mt-4 flex justify-between gap-2">
    <div class="w-1/4">
      {{ previous_chapter(index) }}
    </div>
    <div class="">
        {{ button("/power-broker", "index") }}
    </div>
    <div class="text-right w-1/4">
      {{ next_chapter(index) }}
    </div>
</div>
{% endmacro %}

{% macro previous_chapter(index) %}
  {% set previous_index = (index | int) - 1 %}
  {% if previous_index >= 0 %}
    {{ chapter_link(previous_index, "← previous") }}
  {% endif %}
{% endmacro %}

{% macro next_chapter(index) %}
  {% set next_index = (index | int) + 1 %}
  {% if next_index < power_broker.chapters | length %}
    {{ chapter_link(next_index, "next →") }}
  {% endif %}
{% endmacro %}

{% macro chapter_link(index, label) %}
  {% set url = "/power-broker/" ~ index %}
  {{ button(url, label) }}
{% endmacro %}

{% macro button(url, label) %}
  <a href="{{ url }}" class="hover:underline hover:underline-offset-4 font-medium tracking-wider">
    {{ label }}
  </a>
{% endmacro %}