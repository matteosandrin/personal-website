{% extends "_partials/_page.html" %}
{% set book="The Power Broker" %}
{% set author="Robert Caro" %}
{% block head %}
  <title>{{ book }} by {{ author }}</title>
  <meta
    name="description"
    content="Summary by chapters the book '{{ book }}' by {{ author }}" />
{% endblock %}
{% block body %}
  <div class="mx-auto mb-16 mt-8 max-w-3xl px-8 md:px-16">
    <h2 class="mt-4 text-5xl font-medium leading-tight">"{{ book }}" Chapter Summaries</h2>
    <h2 class="mt-2 text-xl text-slate-500">Summary by chapters of the entire book</h2>
    <p>
        "The Power Broker" is one of those books that stays with long you after
        you finish reading it. If you walk around New York, you'll see physical
        reminders of its presence left and right. Ever wondered why there is no
        direct train to JFK airport? Or why the subway runs on century-old
        infrastructure?  Answers to these questions and more are contained
        in the book (specifically <a href="/power-broker/39" class="link">chapter 39</a>).
    </p>
    <p>
        I wish everyone could read "The Power Broker" in full. However, I know
        that 1300 pages is a tall order for most people, especially if they
        don't have a previous interest in urban planning or New York history. It
        took me six months of reading every day to get through the book. I
        created this repository of chapter summaries to serve as an easier
        on-ramp to the book, and hopefully instill a desire to read the full
        thing.
    </p>
    <p>
        All the summaries were generated by an AI model and personally
        fact-checked by me. Check out <a href="https://github.com/matteosandrin/power-broker-rolodex/blob/main/chapter_summaries/summary.py" class="link">this piece of code</a>
        if you are curious about how the sausage is made.
    </p>
    <ul class="mt-4 space-y-2">
      {% for chapter in power_broker.chapters %}
        {% set chapter_index = loop.index0 %}
        {% for section in power_broker.sections %}
            {% if section.chapter == chapter_index %}
                <h3 class="text-2xl pt-4">{{ section.name }}</h3>
            {% endif %}
        {% endfor %}
        <li>
            <div class="flex justify-between gap-1">
                <a href="/power-broker/{{ loop.index0 }}" class="link">
                  {{ chapter.name }}
                </a>
                <span class="block w-fit text-right">{{ chapter.page }}</span>
            </div>
            <div class="overflow-hidden text-xs relative -z-10 leading-none mt-[-0.66rem]">
                ................................................................................................................................................................................................................................
            </div>
        </li>
      {% endfor %}
  </div>
{% endblock %}
